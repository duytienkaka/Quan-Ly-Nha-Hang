@{
    var tableId = ViewBag.TableId;
}

<div class="modal fade" id="paymentModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">üíµ X√°c nh·∫≠n thanh to√°n</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>B·∫°n c√≥ ch·∫Øc mu·ªën thanh to√°n cho b√†n <strong>@tableId</strong> kh√¥ng?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
        <button type="button" class="btn btn-success" onclick="confirmPay(@tableId)">X√°c nh·∫≠n</button>
      </div>
    </div>
  </div>
</div>

<script>
function confirmPay(tableId){
    fetch(`/Cashier/Pay?tableId=${tableId}`, { method:"POST" })
        .then(() => {
            bootstrap.Modal.getInstance(document.getElementById("paymentModal")).hide();
            $("#order-detail").html('<p class="text-success">‚úÖ ƒê√£ thanh to√°n th√†nh c√¥ng!</p>');
            $("#table-list").load("/Cashier/TableList");
        });
}
</script>
