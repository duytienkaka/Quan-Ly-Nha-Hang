@model IEnumerable<RestaurantMVC.Models.NhanVien>

<h3>ğŸ‘¨â€ğŸ’¼ Quáº£n lÃ½ nhÃ¢n viÃªn</h3>
<button class="btn btn-success mb-3" id="btnAddEmployee">â• ThÃªm nhÃ¢n viÃªn</button>

<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>MÃ£ NV</th>
            <th>Há» tÃªn</th>
            <th>TÃªn Ä‘Äƒng nháº­p</th>
            <th>Vai trÃ²</th>
            <th>Chá»©c vá»¥</th>
            <th>Thao tÃ¡c</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var nv in Model)
        {
            <tr>
                <td>@nv.MaNV</td>
                <td>@nv.HoTen</td>
                <td>@nv.TenDangNhap</td>
                <td>@nv.VaiTro</td>
                <td>@nv.ChucVu</td>
                <td>
                    <button class="btn btn-primary btn-sm" onclick="editEmployee(@nv.MaNV)">Sá»­a</button>
                    <button class="btn btn-danger btn-sm" onclick="deleteEmployee(@nv.MaNV)">XÃ³a</button>
                </td>
            </tr>
        }
    </tbody>
</table>

<!-- Modal -->
<div class="modal fade" id="employeeModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content" id="employeeModalContent"></div>
  </div>
</div>

<script>
$("#btnAddEmployee").click(() => {
    $("#employeeModalContent").load("/Admin/CreateEmployee", () => $("#employeeModal").modal('show'));
});
function editEmployee(id){
    $("#employeeModalContent").load(`/Admin/EditEmployee/${id}`, () => $("#employeeModal").modal('show'));
}
function deleteEmployee(id){
    if(confirm("XÃ¡c nháº­n xÃ³a nhÃ¢n viÃªn nÃ y?")){
        fetch(`/Admin/DeleteEmployee/${id}`, {method:"POST"}).then(() => $("#main-content").load("/Admin/ManageEmployees"));
    }
}
</script>
